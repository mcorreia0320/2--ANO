<!doctype html>
<html>
<head>
    <title>ACR AJAX</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
</head>

<body style="padding: 40px;">

  <ul>
    <li><a href="index.html">Fetch API</a></li>
    <li><a href="jquery.html">jQuery AJAX</a></li>
    <li><a href="exercise.html">Exercise</a></li>
    <li><a href="xhr.html">XMLHttpRequest</a></li>
  </ul>

  <div class="container">
    <h3>Fetch Exercise</h3>
    <button id="btn1">list posts</button>
    <button id="btn2">post 1</button>
    <button id="btn3">user 1 todos</button>
    <button id="btn4">user 1 completed todos</button>
    <button id="btn5">User 2 Albums</button>
    <button id="btn6">Album 3</button>
    <button id="btn7">Album 4</button>
  </div>
  
  <h2>Results:</h2>
  <div id="result">
  </div>

  <script>
    
    $("#result").css({
      width: "100%",
      textAlign: "center"
  });

    //EXERCICIO 1
    $("#btn1").click(()=>{
      fetch('https://jsonplaceholder.typicode.com/posts')
      .then((response) => response.json())
      .then((json) => console.log(json));
    })

    //EXERCICIO 2
    $("#btn2").click(()=>{
      fetch('https://jsonplaceholder.typicode.com/posts/1')
      .then((response) => response.json())
      .then((json) => console.log(json));
    })

     //EXERCICIO 3
     $("#btn3").click(()=>{
      fetch('https://jsonplaceholder.typicode.com/posts?userId=2')
      .then((response) => response.json())
      .then((json) => console.log(json));
    })
    
    //EXERCICIO 5
    $("#btn5").click(()=>{
      fetch('https://jsonplaceholder.typicode.com/users/1/albums')
      .then((response) =>response.json())
      .then((array)=>{ console.log("O usuario 2 tem " + array.length + " albums")})
    })

   

     //EXERCICIO 6
    $("#btn6").click(()=>{
      fetch('https://jsonplaceholder.typicode.com/albums/3/photos')
      .then((response) =>response.json())
      .then((array)=>{
        let album;
        album = array[0];
        $(`<img src="${album.url}" heigth="200px" width="200px">`).appendTo("#result");
        $(`<p>${album.title}</p>`).appendTo("#result");
      })
    })

     //EXERCICIO 7
     $("#btn7").click(()=>{
      fetch('https://jsonplaceholder.typicode.com/albums/4/photos')
      .then((response) =>response.json())
      .then((array)=>{
        array.forEach(element => {
            $(`<img src="${element.url}" heigth="200px" width="200px">`).appendTo("#result");
            $(`<p>${element.id}</p>`).appendTo("#result");
        });
      })
    })
  </script>
</body>
</html>